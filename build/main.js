!function(){var e=document.getElementById("visualiser"),n=e.getContext("2d"),t={init:function(t){e.width=t.frequencyBinCount,e.height=window.innerHeight/2,e.style.height="50vh",n.clearRect(0,0,e.width,e.height)},process:function(t){var i=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(i),n.clearRect(0,0,e.width,e.height);for(var o=0;o<i.length;o++)n.fillRect(3*o,window.innerHeight/2-i[o],1,window.innerHeight/2)}},i=document.getElementById("visualiser"),o=i.getContext("2d"),r=0,a={init:function(e){i.width=e.frequencyBinCount,i.height=window.innerHeight,i.style.height="100vh",o.clearRect(0,0,i.width,i.height)},process:function(e){var n=new Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(n);for(var t=o.getImageData(0,r,i.width,1),a=0;a<n.length;a++)t.data[4*a+0]=n[a],t.data[4*a+1]=n[a],t.data[4*a+2]=n[a],t.data[4*a+3]=255;o.putImageData(t,0,r),r+=1,r%=i.height}},c=document.getElementById("visualiser"),d=c.getContext("2d"),h={init:function(e){c.width=e.frequencyBinCount,c.height=window.innerHeight,c.style.height="100vh",d.clearRect(0,0,c.width,c.height)},process:function(e){var n=new Float32Array(e.frequencyBinCount);e.getFloatTimeDomainData(n),d.clearRect(0,0,c.width,c.height),d.beginPath();for(var t=0;t<n.length;t++){var i=(.5+n[t]/2)*c.height;0==t?d.moveTo(t,i):d.lineTo(t,i)}d.stroke()}};!function(e,n){if("undefined"==typeof document)return n;e=e||"";var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}("\nbody {\n    margin: 0;\n    font-family: sans-serif;\n    width: 100%;\n}\n\ncanvas {\n    z-index: 0;\n    width: 100%;\n    height: 100vh;\n}\n\ninput {\n    flex: 100%;\n    height: 50px;\n    background: transparent;\n    outline: none;\n    border: none;\n    border-bottom: 1px solid black;\n    font-size: 1rem;\n    color: black;\n}\n\nbutton {\n    width: 90px;\n    height: 50px;\n    border: 1px solid black;\n    background: transparent;\n    font-size: .8rem;\n    color: black;\n    margin-left: 20px;\n    text-transform: uppercase;\n    outline: none;\n    cursor: pointer;\n}\n\nbutton:hover {\n    border: 2px solid white;\n    font-size: .85rem;\n}\n\nbutton:disabled {\n    color: grey;\n}",void 0);var u=new(window.AudioContext||window.webkitAudioContext),l=document.getElementById("visualiser"),s=new Array(h,t,a),g=0,f=u.createScriptProcessor(0,1,1),w=u.createAnalyser();navigator.mediaDevices.getUserMedia({audio:!0,video:!1,echoCancellation:!0}).then(function(e){var n=u.createMediaStreamSource(e);n.connect(f),n.connect(w),f.connect(u.destination),s[g].init(w),f.onaudioprocess=function(e){s[g].process(w),e.outputBuffer.getChannelData(0).forEach(function(e){return 0})}}).catch(function(e){return window.alert(e)}),l.onclick=function(){g=(g+1)%s.length,s[g].init(w)}}();

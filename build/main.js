!function(){var n=document.getElementById("visualiser"),e=n.getContext("2d"),t={process:function(t){e.clearRect(0,0,n.width,n.height),e.beginPath();for(var o=0;o<t.length;o++){var i=(.5+t[o]/2)*n.height;0==o?e.moveTo(o,i):e.lineTo(o,i)}e.stroke()}};!function(n,e){if("undefined"==typeof document)return e;n=n||"";var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}("\nbody {\n    margin: 0;\n    font-family: sans-serif;\n}\n\ncanvas {\n    z-index: 0;\n    width: 100%;\n    height: 100vh;\n}\n\ninput {\n    flex: 100%;\n    height: 50px;\n    background: transparent;\n    outline: none;\n    border: none;\n    border-bottom: 1px solid black;\n    font-size: 1rem;\n    color: black;\n}\n\nbutton {\n    width: 90px;\n    height: 50px;\n    border: 1px solid black;\n    background: transparent;\n    font-size: .8rem;\n    color: black;\n    margin-left: 20px;\n    text-transform: uppercase;\n    outline: none;\n    cursor: pointer;\n}\n\nbutton:hover {\n    border: 2px solid white;\n    font-size: .85rem;\n}\n\nbutton:disabled {\n    color: grey;\n}",void 0);var o=new(window.AudioContext||window.webkitAudioContext),i=document.getElementById("visualiser"),r=i.getContext("2d"),a=new Array(t),c=0;navigator.mediaDevices.getUserMedia({audio:!0,video:!1,echoCancellation:!0}).then(function(n){var e=o.createMediaStreamSource(n),t=o.createScriptProcessor(0,1,1),r=o.createAnalyser();e.connect(t),e.connect(r),t.connect(o.destination),i.width=r.frequencyBinCount,i.height=window.innerHeight,t.onaudioprocess=function(n){a[c].process(n.inputBuffer.getChannelData(0)),n.outputBuffer.getChannelData(0).forEach(function(n){return 0})}}).catch(function(n){return window.alert(n)}),i.onclick=function(){r.clearRect(0,0,i.width,i.height),c=(c+1)%a.length,console.log("next visualiser")}}();

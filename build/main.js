!function(){var e=document.getElementById("visualiser"),n=e.getContext("2d"),t=0,o={process:function(o){var a=new Uint8Array(o.frequencyBinCount);o.getByteFrequencyData(a);for(var r=n.getImageData(0,t,e.width,1),i=0;i<a.length;i++)r.data[4*i+0]=a[i],r.data[4*i+1]=a[i],r.data[4*i+2]=a[i],r.data[4*i+3]=255;n.putImageData(r,0,t),t+=1,t%=e.height}},a=document.getElementById("visualiser"),r=a.getContext("2d"),i={process:function(e){var n=new Float32Array(e.frequencyBinCount);e.getFloatTimeDomainData(n),r.clearRect(0,0,a.width,a.height),r.beginPath();for(var t=0;t<n.length;t++){var o=(.5+n[t]/2)*a.height;0==t?r.moveTo(t,o):r.lineTo(t,o)}r.stroke()}};!function(e,n){if("undefined"==typeof document)return n;e=e||"";var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}("\nbody {\n    margin: 0;\n    font-family: sans-serif;\n    width: 100%;\n}\n\ncanvas {\n    z-index: 0;\n    width: 100%;\n    height: 100vh;\n}\n\ninput {\n    flex: 100%;\n    height: 50px;\n    background: transparent;\n    outline: none;\n    border: none;\n    border-bottom: 1px solid black;\n    font-size: 1rem;\n    color: black;\n}\n\nbutton {\n    width: 90px;\n    height: 50px;\n    border: 1px solid black;\n    background: transparent;\n    font-size: .8rem;\n    color: black;\n    margin-left: 20px;\n    text-transform: uppercase;\n    outline: none;\n    cursor: pointer;\n}\n\nbutton:hover {\n    border: 2px solid white;\n    font-size: .85rem;\n}\n\nbutton:disabled {\n    color: grey;\n}",void 0);var c=new(window.AudioContext||window.webkitAudioContext),d=document.getElementById("visualiser"),u=d.getContext("2d"),s=new Array(i,o),l=0;navigator.mediaDevices.getUserMedia({audio:!0,video:!1,echoCancellation:!0}).then(function(e){var n=c.createMediaStreamSource(e),t=c.createScriptProcessor(0,1,1),o=c.createAnalyser();n.connect(t),n.connect(o),t.connect(c.destination),d.width=o.frequencyBinCount,d.height=window.innerHeight,t.onaudioprocess=function(e){s[l].process(o),e.outputBuffer.getChannelData(0).forEach(function(e){return 0})}}).catch(function(e){return window.alert(e)}),d.onclick=function(){u.clearRect(0,0,d.width,d.height),l=(l+1)%s.length}}();
